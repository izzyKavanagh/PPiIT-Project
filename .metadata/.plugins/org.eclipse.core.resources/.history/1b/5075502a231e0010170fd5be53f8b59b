package Devices;

// Class for representing computer
public class Computer extends Device{
	
	private final int totalPorts = 1;
	
	public Computer(String name, String macAddress) {
		super(name,macAddress);
	}
	
	@Override
	public int getTotalPorts()
	{
		return totalPorts;
	}
	
	public void sendMessage(String destIp, String message, Topology topology) {
		String destMac = lookupMac(destIp);
	    if (destMac == null) 
	    {
	    	
	        System.out.println(name + " doesnâ€™t know MAC for " + destIp + ". Sending ARP request...");
	        arpRequest(destIp, topology);
	        destMac = lookupMac(destIp);
	        
	        if (destMac == null) 
	        {
	            System.out.println("Could not resolve MAC. Message dropped.");
	            return;
	        }
	    }

	    System.out.println(name + " sending message to " + destIp + " (" + destMac + "): " + message);
	}
}

